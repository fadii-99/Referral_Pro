import{j as e,G as x,r as o}from"./index-BPYl9JkP.js";import{R as m}from"./ReferralTrendCharts-Cv5raLtI.js";const t=({title:s,value:a,change:c,isNegative:i=!1})=>e.jsxs("div",{className:"bg-primary-blue text-white rounded-2xl p-4 shadow-md relative",children:[e.jsx("h4",{className:"text-sm",children:s}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:a}),e.jsx("span",{className:`text-sm ${i?"text-red-400":"text-green-400"}`,children:c}),e.jsx("div",{className:"absolute top-5 right-5 w-[10px] h-[10px] bg-secondary-blue rounded-full"})]});function h(s){return x({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(s)}const l=({text:s,time:a})=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(h,{className:"text-primary-purple text-2xl"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-800",children:s}),e.jsx("span",{className:"text-xs text-slate-500",children:a})]})]}),g="/api",f=()=>{const[s,a]=o.useState(null),[c,i]=o.useState(!0);return o.useEffect(()=>{(async()=>{try{const r=localStorage.getItem("accessToken"),n=await fetch(`${g}/auth/get_user/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:r?`Bearer ${r}`:""},body:JSON.stringify({})}),d=await n.json();console.log("[get-user] response:",d),n.ok&&a(d)}catch(r){console.error("[get-user] error:",r)}finally{i(!1)}})()},[]),e.jsxs("div",{className:"p-8 flex flex-col gap-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-500",children:["Welcome Back ðŸ‘‹ ",e.jsx("br",{}),e.jsx("span",{className:"text-3xl font-semibold text-primary-blue",children:c?"Loading...":s?.user?.name||"The Roof Co. Waco ðŸ‘‹"})]}),e.jsx("div",{className:"flex gap-3"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsx(t,{title:"Referrals Created",value:"125",change:"+10%"}),e.jsx(t,{title:"Referrals Accepted",value:"98",change:"+5%"}),e.jsx(t,{title:"Referrals Completed",value:"75",change:"+8%"}),e.jsx(t,{title:"Total Points Allocated",value:"$12,500",change:"+3%"}),e.jsx(t,{title:"Points Cashed Value",value:"$12,500",change:"-5%",isNegative:!0}),e.jsx(t,{title:"Missed Opportunity",value:"$250",change:"-5%",isNegative:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"col-span-2",children:e.jsx(m,{})}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{text:"New referral created by Sarah",time:"2 hours ago"}),e.jsx(l,{text:"Referral accepted by David",time:"2 hours ago"}),e.jsx(l,{text:"Referral completed by Emily",time:"2 hours ago"}),e.jsx(l,{text:"Referral completed by Emily",time:"2 hours ago"})]})]})]})]})};export{f as default};
