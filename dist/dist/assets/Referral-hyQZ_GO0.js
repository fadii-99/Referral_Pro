import{j as e,l as o,r as x,k as g,F as f}from"./index-BPYl9JkP.js";import{P as p}from"./Pagination-CkBJZhi4.js";const h=({status:s})=>{const t={pending:"text-amber-700 bg-amber-50",approved:"text-emerald-700 bg-emerald-50",closed:"text-rose-700 bg-rose-50"};return e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-lg text-xs sm:text-sm font-medium capitalize ${t[s.toLowerCase()]||"text-gray-700 bg-gray-50"}`,children:s})},u=({urgency:s})=>{const t={urgent:"text-rose-700 bg-rose-50",normal:"text-blue-700 bg-blue-50",low:"text-slate-700 bg-slate-50"};return e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-lg text-xs sm:text-sm font-medium capitalize ${t[s.toLowerCase()]||"text-gray-700 bg-gray-50"}`,children:s})},j=({referral:s})=>e.jsxs("div",{className:"grid grid-cols-[0.6fr_2fr_1.5fr_1.5fr_1.2fr_1fr] items-center bg-white rounded-2xl px-6 py-3 border border-black/5 shadow-sm",children:[e.jsx("div",{className:"font-medium text-gray-700 text-sm",children:s.id}),e.jsx("div",{className:"font-medium text-gray-700 text-sm",children:s.companyName}),e.jsx("div",{className:"text-gray-600 text-sm",children:s.industry}),e.jsx("div",{className:"text-gray-600 text-sm",children:s.companyType}),e.jsx(h,{status:s.status}),e.jsx(u,{urgency:s.urgency})]}),N=()=>{const{referrals:s,loading:t,error:c}=o(),[r,d]=x.useState(1);x.useEffect(()=>{console.log("[Referral page] referrals:",s)},[s]);const n=8,a=Math.max(1,Math.ceil(s.length/n)),m=(r-1)*n,i=s.slice(m,m+n);return x.useEffect(()=>{r>a&&d(a)},[a,r]),e.jsxs("div",{className:"p-6 flex flex-col min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-primary-blue",children:"Company Referrals List"}),e.jsxs("div",{className:"flex flex-row items-center gap-3",children:[e.jsx("button",{className:"h-10 w-10 rounded-xl bg-white border border-black/5 shadow-sm flex items-center justify-center",children:e.jsx(g,{className:"text-primary-purple text-lg"})}),e.jsx("button",{className:"h-10 w-10 rounded-xl bg-white border border-black/5 shadow-sm flex items-center justify-center",children:e.jsx(f,{className:"text-primary-purple text-lg"})})]})]}),t&&e.jsx("p",{className:"text-sm text-gray-600",children:"Loading referrals..."}),c&&e.jsx("p",{className:"text-sm text-red-500",children:c}),e.jsxs("div",{className:"flex-1 flex flex-col space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-[0.6fr_2fr_1.5fr_1.5fr_1.2fr_1fr] px-6 py-3 text-xs sm:text-sm font-semibold text-gray-600 bg-gray-50 rounded-xl",children:[e.jsx("div",{children:"ID"}),e.jsx("div",{children:"Company Name"}),e.jsx("div",{children:"Industry"}),e.jsx("div",{children:"Company Type"}),e.jsx("div",{children:"Status"}),e.jsx("div",{children:"Urgency"})]}),e.jsx("div",{className:"space-y-2",children:i.length===0&&!t?e.jsx("div",{className:"text-sm p-8 text-center text-gray-500",children:"No referrals found."}):i.map(l=>e.jsx(j,{referral:l},l.id))})]}),i.length>0&&!t&&e.jsx("div",{className:"mt-auto pt-6 flex justify-end",children:e.jsx(p,{current:r,totalPages:a,onChange:l=>d(l)})})]})};export{N as default};
