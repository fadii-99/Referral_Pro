import{j as e,m as u,n as h,r as o,u as y,l as j,S as b}from"./index-BaDO_InB.js";import{P as v}from"./Pagination-BD4fVw50.js";const N=({status:s})=>{const r={pending:"text-amber-700 bg-amber-50",approved:"text-emerald-700 bg-emerald-50",closed:"text-rose-700 bg-rose-50"};return e.jsx("span",{className:`inline-flex items-center w-fit px-3 py-1 rounded-lg text-xs sm:text-sm font-medium capitalize ${r[s.toLowerCase()]||"text-gray-700 bg-gray-50"}`,children:s})},w=({urgency:s})=>{const r={urgent:"text-rose-700 bg-rose-50",normal:"text-blue-700 bg-blue-50",medium:"text-amber-700 bg-amber-50"};return e.jsx("span",{className:`inline-flex items-center w-fit px-3 py-1 rounded-lg text-xs sm:text-sm font-medium capitalize ${r[s.toLowerCase()]||"text-gray-700 bg-gray-50"}`,children:s})},_=({referral:s,onClick:r,onView:l})=>e.jsxs("div",{onClick:r,className:"grid grid-cols-[0.6fr_2fr_1.5fr_1.5fr_1.2fr_1fr_0.8fr] min-w-[750px] items-center bg-white rounded-2xl px-6 py-3 border border-black/5 shadow-sm cursor-pointer hover:shadow-md transition",children:[e.jsx("div",{className:"font-medium text-gray-700 text-sm",children:s.id}),e.jsx("div",{className:"font-medium text-gray-700 text-sm",children:s.companyName}),e.jsx("div",{className:"text-gray-600 text-sm",children:s.industry}),e.jsx("div",{className:"text-gray-600 text-sm",children:s.companyType}),e.jsx(N,{status:s.status}),e.jsx(w,{urgency:s.urgency}),e.jsx("div",{className:"flex justify-end pr-2",onClick:a=>a.stopPropagation(),children:e.jsx("button",{type:"button","aria-label":"View",className:"text-primary-purple hover:opacity-80",onClick:l,children:e.jsx(u,{className:"text-lg"})})})]}),P=()=>{const{referrals:s,loading:r,loadReferrals:l}=h(),[a,x]=o.useState(1),p=y();o.useEffect(()=>{l()},[l]);const n=8,i=Math.max(1,Math.ceil(s.length/n)),d=(a-1)*n,c=s.slice(d,d+n);o.useEffect(()=>{a>i&&x(i)},[i,a]);const f=t=>t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),m=t=>{localStorage.setItem("selectedReferralId",t.reference_id);const g=f(t.companyName);p(`/Dashboard/Referral/${g}`)};return e.jsxs("div",{className:"sm:p-6 p-4 flex flex-col min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4",children:[e.jsx("h2",{className:"md:text-2xl text-xl font-semibold text-primary-blue",children:"Company Referrals List"}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("button",{className:"h-10 w-10 rounded-xl bg-white border border-black/5 shadow-sm flex items-center justify-center",children:e.jsx(j,{className:"text-primary-purple text-lg"})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col space-y-4",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"grid grid-cols-[0.6fr_2fr_1.5fr_1.5fr_1.2fr_1fr_0.8fr] min-w-[750px] px-6 py-3 text-xs sm:text-sm font-semibold text-gray-600 bg-gray-50 rounded-xl",children:[e.jsx("div",{children:"ID"}),e.jsx("div",{children:"Company Name"}),e.jsx("div",{children:"Industry"}),e.jsx("div",{children:"Company Type"}),e.jsx("div",{children:"Status"}),e.jsx("div",{children:"Urgency"}),e.jsx("div",{className:"text-right pr-2",children:"Actions"})]})}),e.jsx("div",{className:"overflow-x-auto space-y-2",children:r?e.jsx("div",{className:"py-6 flex justify-center",children:e.jsx(b,{})}):c.length===0?e.jsx("div",{className:"text-sm p-8 text-center text-gray-500",children:"No referrals found."}):c.map(t=>e.jsx(_,{referral:t,onClick:()=>m(t),onView:()=>m(t)},t.id))})]}),c.length>0&&!r&&e.jsx("div",{className:"mt-auto pt-6 flex justify-end",children:e.jsx(v,{current:a,totalPages:i,onChange:t=>x(t)})})]})};export{P as default};
