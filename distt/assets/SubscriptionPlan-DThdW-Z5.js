import{u as k,r as p,R as D,j as e}from"./index-Mf-iqAM9.js";import{S as R}from"./SideDesign-1gBCsFwP.js";import{B as $}from"./Button--wDPOzGm.js";import{M as A}from"./MultiStepHeader-7PWzTQj_.js";const f={starter:0,growth:1},d={starter:{name:"Starter",seatsLabel:"5 seats",baseSeats:5,monthlyPrice:99},growth:{name:"Growth",seatsLabel:"25 seats",baseSeats:25,monthlyPrice:299}},h=o=>`$${Math.round(o).toLocaleString()}`,v=o=>Math.round(o*12*.9);function N(o,x){const c=d[o],m=Math.ceil(c.monthlyPrice/c.baseSeats)*c.baseSeats-1,r=x==="monthly"?m:v(m),b=`${h(r)}${x==="monthly"?"/mon":"/yr"}`;return{total:r,display:b,currency:"USD"}}const F=()=>{const o=k(),x=p.useContext(D);if(!x)throw new Error("SubscriptionPlan must be used within RegistrationProvider");const{registrationData:c,setRegistrationData:m}=x,[r,b]=p.useState(c.subscriptionBilling||"monthly"),[i,w]=p.useState(c.subscriptionPlanId),[u,S]=p.useState(c.paymentType||""),P=p.useMemo(()=>Math.ceil(d.starter.monthlyPrice/d.starter.baseSeats),[]),C=(t,a)=>{const s=d[t],l=Math.ceil(s.monthlyPrice/s.baseSeats)*s.baseSeats-1;return a==="monthly"?l:v(l)},y=t=>{b(t),m(a=>{let s={...a,subscriptionBilling:t};if(i!==null){const n=N(i===0?"starter":"growth",t);s={...s,subscriptionCurrency:n.currency,subscriptionTotal:n.total,subscriptionTotalDisplay:n.display}}return s})},M=t=>{const a=f[t],s=d[t].baseSeats,l=N(t,r);w(a),m(n=>({...n,subscriptionBilling:r,subscriptionPlanId:a,subscriptionSeats:s,subscriptionCurrency:l.currency,subscriptionTotal:l.total,subscriptionTotalDisplay:l.display}))},B=t=>{S(t),m(a=>({...a,paymentType:t}))},T=()=>{i===null||!u||o("/PaymentMethod")},j=({id:t})=>{const a=d[t],s=C(t,r),l=f[t],n=i===l;return e.jsxs("button",{type:"button",onClick:()=>M(t),className:["relative w-full rounded-2xl sm:px-5 px-3 sm:py-6 py-4 text-left border transition-shadow",n?"bg-primary-purple text-white border-primary-purple shadow-lg":"bg-white text-primary-blue border-primary-blue/20 hover:shadow-md","shadow-[0_8px_28px_rgba(0,0,0,0.08)]"].join(" "),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold opacity-90",children:a.name}),e.jsx("div",{className:"mt-1 text-[11px] opacity-70",children:a.seatsLabel})]}),e.jsx("div",{className:["w-5 h-5 rounded-full border flex items-center justify-center",n?"border-white bg-white/20":"border-primary-blue/30"].join(" "),"aria-hidden":!0,children:n?e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-white"}):null})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-3xl font-bold tracking-tight",children:h(s)}),e.jsx("span",{className:"ml-1 text-sm opacity-80",children:r==="monthly"?"/mon":"/yr"})]}),e.jsx("div",{className:"mt-2 text-xs opacity-70",children:r==="yearly"?"10% off with annual prepayment":`~${h(P)}/seat baseline`})]})},g=({type:t,label:a,helper:s})=>{const l=u===t;return e.jsx("button",{type:"button",onClick:()=>B(t),className:["w-full rounded-xl sm:px-4 px-3 py-3 border text-left transition-all",l?"bg-white border-primary-purple ring-2 ring-primary-purple/30":"bg-white border-primary-blue/20 hover:shadow-sm"].join(" "),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"sm:text-sm text-xs font-semibold text-primary-blue",children:a}),s?e.jsx("div",{className:"text-[11px] text-primary-blue/70 mt-0.5",children:s}):null]}),e.jsx("div",{className:["w-5 h-5 rounded-full border flex items-center justify-center",l?"border-primary-purple":"border-primary-blue/30"].join(" "),children:l?e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-primary-purple"}):null})]})})};return e.jsxs("div",{className:"grid md:grid-cols-5 w-full min-h-screen",children:[e.jsx(R,{}),e.jsxs("div",{className:"md:col-span-3 flex flex-col bg-[#F4F2FA]",children:[e.jsx("div",{className:"sticky top-5 z-30 backdrop-blur w-full max-w-lg mx-auto",children:e.jsx("div",{className:"px-4",children:e.jsx(A,{title:"Subscription Plan",current:5,total:6,onBack:()=>o(-1)})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:mt-0 mt-6",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center gap-6 text-sm font-semibold text-primary-blue mb-3",children:[e.jsxs("button",{type:"button",onClick:()=>y("monthly"),className:`relative pb-2 ${r==="monthly"?"text-primary-purple":"text-primary-blue/70"}`,children:["Monthly",r==="monthly"&&e.jsx("span",{className:"absolute left-0 -bottom-[2px] h-0.5 w-full bg-primary-purple rounded-full"})]}),e.jsxs("button",{type:"button",onClick:()=>y("yearly"),className:`relative pb-2 ${r==="yearly"?"text-primary-purple":"text-primary-blue/70"}`,children:["Yearly",r==="yearly"&&e.jsx("span",{className:"absolute left-0 -bottom-[2px] h-0.5 w-full bg-primary-purple rounded-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(j,{id:"starter"}),e.jsx(j,{id:"growth"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"text-xs text-primary-blue font-semibold mb-2",children:"Payment method"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(g,{type:"bank",label:"Bank Transfer"}),e.jsx(g,{type:"stripe",label:"Stripe"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"text-xs text-primary-blue font-semibold mb-2",children:"Your selection"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsx("div",{className:"text-primary-blue/80",children:"Billing"}),e.jsx("div",{className:"text-right text-primary-blue font-semibold",children:r}),e.jsx("div",{className:"text-primary-blue/80",children:"Plan"}),e.jsx("div",{className:"text-right text-primary-blue font-semibold",children:i===0?"Starter":i===1?"Growth":"—"}),e.jsx("div",{className:"text-primary-blue/80",children:"Seats"}),e.jsx("div",{className:"text-right text-primary-blue font-semibold",children:i===null?"—":i===0?d.starter.baseSeats:d.growth.baseSeats}),e.jsx("div",{className:"text-primary-blue/80",children:"Payment"}),e.jsx("div",{className:"text-right text-primary-blue font-semibold",children:u||"—"}),e.jsx("div",{className:"text-primary-blue/80",children:"Amount"}),e.jsx("div",{className:"text-right text-primary-blue font-semibold",children:c.subscriptionTotalDisplay||"—"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx($,{text:"Next Add Card Details",onClick:T,disabled:i===null||!u})})]})})]})]})};export{F as default};
